let e=require("fs"),n=(e,t)=>new Date(e.getTime()+6e4*t),a=JSON.parse(e.readFileSync("m")).map((e,t)=>({t:t,...e,i:e.Duration,l:e.Rating/e.Duration})).sort((e,t)=>t.l-e.l),l=[],u=0,r=(a.forEach(e=>{let{t:i,i:t}=e;var n,r;l.some(e=>e.t==i)||(n=t%60,r=a.filter(t=>.07<=t.l&&t.t!=i&&!l.some(e=>e.t==t.t)).find(e=>(t+e.i)%60==0),(0==n||55<=n||45<=n&&!r)&&u+t<=1440?(l.push(e),u+=0==n?t:t+(60-n)):r&&u+t+r.i<=1440&&(l.push(e,r),u+=t+r.i))}),new Date(0,0)),g=new Intl.DateTimeFormat("en",{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})["format"],o=console.log;l.forEach(e=>{var t=r.getMinutes()%60,t=0==t?0:60-t,t=0<t&&0!=n(r,e.i).getMinutes()?n(r,t):r,i=n(t,e.i);o(`${e.Title} (${e.Rating}) ${g(t)}-`+g(i)),r=i}),o("Total rating: ",l.reduce((e,t)=>e+t.Rating,0).toFixed(1));
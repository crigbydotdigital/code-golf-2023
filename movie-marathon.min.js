let e=require("fs"),a=(e,t)=>new Date(e.getTime()+6e4*t),i=new Intl.DateTimeFormat("en",{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})["format"],l=console.log,u=0,g=(n,...e)=>e.reduce((e,t)=>{var r=a(n,t.t);return l(`${t.Title} (${t.Rating}) ${i(n)}-`+i(r)),u+=t.Rating,n=r},0),o=(e,n)=>{if(e.length){let t=e.shift();var i=t.t%60;let r=e.filter(e=>.07<=e.i).find(e=>(t.t+e.t)%60==0);return(!i||56<=i||50<=i&&!r)&&1==a(n,t.t).getDay()?o(e,a(g(n,t),i?60-i:0)):r&&1==a(n,t.t+r.t).getDay()?o(e.filter(e=>e.l!=r.l),g(n,t,r)):o(e,n)}};o(JSON.parse(e.readFileSync("m")).map((e,t)=>({l:t,...e,t:e.Duration,i:e.Rating/e.Duration})).sort((e,t)=>t.i-e.i),new Date(0,0)),l("Total rating: ",u.toFixed(1));